\ExplSyntaxOn

\RenewDocumentEnvironment {block} {m} {
  \begin{tcolorbox}[
    adjusted~title=#1,
  ]
}{
  \end{tcolorbox}
}

\RenewDocumentEnvironment {alertblock} {m} {
  \begin{tcolorbox}[
    adjusted~title=#1,
    colframe=vertexDarkRed,
  ]
}{
  \end{tcolorbox}
}

\NewDocumentEnvironment {CodeExplanation} {o m O{Code} O{Ergebnis}} {
  \NewDocumentCommand \Explanation {} {
      \end{tcolorbox}
    \end{column}
    \begin{column}{
      \IfValueTF {#1} {
        #1
      }{
        \fp_eval:n {1 - 0.02 - #2}
      }
      \textwidth
    }
    \begin{tcolorbox}[
      adjusted~title=#4,
    ]
  }
  \begin{columns}[onlytextwidth, t]
    \begin{column}{#2 \textwidth}
      \begin{tcolorbox}[
        adjusted~title=#3,
      ]
}{
      \end{tcolorbox}
    \end{column}
  \end{columns}
}

\NewDocumentEnvironment {CodeExample} {o m O{Code} O{Ergebnis}} {
  \NewDocumentCommand \CodeResult {} {
      \end{tcolorbox}
    \end{column}
    \begin{column}{
      \IfValueTF {#1} {
        #1
      }{
        \fp_eval:n {1 - 0.02 - #2}
      }
      \textwidth
    }
      \begin{tcolorbox}[
        adjusted~title=#4,
        colframe=gray!40,
        coltitle=black,
      ]
        \begin{EmulateArticle}
  }
  \begin{columns}[onlytextwidth, t]
    \begin{column}{#2 \textwidth}
      \begin{tcolorbox}[
        adjusted~title=#3,
      ]
}{
        \end{EmulateArticle}
      \end{tcolorbox}
    \end{column}
  \end{columns}
}

\NewDocumentEnvironment {Packages} {} {
  \begin{block}{Ben√∂tigte~Pakete}
}{
  \end{block}
}

\makeatletter
\NewDocumentEnvironment {EmulateArticle} {} {
  \rmfamily

  \setbeamercolor{item}{fg=black}
  \setbeamercolor{itemize/enumerate~body}{fg=black}
  \setbeamercolor{itemize/enumerate~subbody}{fg=black}
  \setbeamercolor{itemize/enumerate~subsubbody}{fg=black}
  \setbeamercolor{description~item}{fg=black}
  \setbeamercolor{enumerate~item}{fg=black}
  \setbeamercolor{itemize~item}{fg=black}
  \setbeamercolor{normal~text}{fg=black}
  \setbeamercolor{block~body}{fg=black}
  \setbeamerfont{item}{family=\rmfamily, size=\normalsize}
  \setbeamerfont{itemize/enumerate~body}{family=\rmfamily, size=\normalsize}
  \setbeamerfont{itemize/enumerate~subbody}{family=\rmfamily, size=\normalsize}
  \setbeamerfont{itemize/enumerate~subsubbody}{family=\rmfamily, size=\normalsize}
  \setbeamerfont{description~item}{series=\bfseries}
  \setbeamertemplate{itemize~item}{\bullet}
  \setbeamertemplate{itemize~subitem}{--}
  \setbeamertemplate{itemize~subsubitem}{\textasteriskcentered}
  \setbeamertemplate{enumerate~item}{\theenumi.}
  \setbeamertemplate{enumerate~subitem}{\alph{enumii})}
  \setbeamertemplate{enumerate~subsubitem}{\roman{enumiii}.}

  \setbeamerfont{footnote}{family=\rmfamily}
  \setbeamerfont{footnote~mark}{family=\rmfamily}

  \setbeamertemplate{caption}[numbered]
  \setbeamercolor{caption}{fg=black}
  \setbeamerfont{caption}{family=\rmfamily}
  \setbeamercolor{caption~name}{fg=black}
  \setbeamerfont{caption~name}{family=\rmfamily, series=\bfseries}

  \let\reftagform@=\tagform@
  \def\tagform@##1{\maketag@@@{(\ignorespaces{\rmfamily{##1}}\unskip\@@italiccorr)}}
  \renewcommand{\eqref}[1]{\textup{\reftagform@{\rmfamily\ref{##1}}}}
}{
}
\makeatother

\NewDocumentCommand \OverfullCenter {+m}
{
	\noindent
	\makebox[\linewidth]{#1}
}

\tikzstyle{buttonstyle} = [
  align=center,
  rectangle,
  fill=black!10,
  draw=black!80,
  drop~shadow,
  font={\bfseries},
]

\NewDocumentCommand \button {m}
{
  \tikz[
    baseline={([yshift=-.8ex]current~bounding~box.center)},
  ]{
    \node[buttonstyle] {#1};
  }
}

\NewDocumentCommand \doc {m m}
{
  \button{\href{#1}{Doku:~\texttt{#2}}}
}

% used to show headline at beginning of each logical section
\NewDocumentCommand \headlineframe {m}
{
  \begin{frame}
    \begin{center}
      \Huge\color{vertexDarkRed}#1
    \end{center}
  \end{frame}
}

\NewDocumentCommand \defaultdisplayskip {}
{
  \setlength\abovedisplayskip{8.0pt plus 4.0pt minus 4.0pt}
}

\ExplSyntaxOff
